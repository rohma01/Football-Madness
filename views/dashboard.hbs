<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - {{ user.username }}</title>
</head>
 <script src="/socket.io/socket.io.js"></script>
  <script>
    
  const socket = io();
   const userData = {
    username: '{{ user.username }}',
    userId: '{{ user.userId }}' ,
  };
  console.log(userData)
  // Emit the 'setUsername' event with the JSON string
  socket.emit('setUsername', userData);
  
  
 </script>
<body>
  <h1>Welcome to the Dashboard, {{ user.username }}!</h1>
  <p><a href="/logout">Logout</a></p>
  <button onclick="redirectToChatroom('{{ user.username }}')">Go to Chatroom</button>

  <script>
    function redirectToChatroom(username) {
      // Assuming you have a route that dynamically creates a room for the user
      window.location.href = `/drafting?username=${username}`;
    }
  </script>
</body>
</html>